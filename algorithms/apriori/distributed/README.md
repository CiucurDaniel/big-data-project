# Apriori using MapReduce

# Run

```bash
docker cp .\apriori\target\apriori-1.0-SNAPSHOT.jar namenode:/tmp

docker cp .\store_data.csv namenode:/tmp

docker exec -it namenode /bin/bash

hadoop fs -ls /

hadoop fs -mkdir /store

hadoop fs -copyFromLocal store_data.csv /store

$HADOOP_HOME/bin/hadoop jar apriori-1.0-SNAPSHOT.jar uvt.bigdata.Main /mushroom /output 20
```

# Example outputs

Each output file will contain the k-frequent itemsets. Eg: output3 -> frequent itemsets of size 3.

```
hadoop fs -cat /output1/part-r-00000
hadoop fs -cat /output2/part-r-00000
hadoop fs -cat /output3/part-r-00000
.
..
...
hadoop fs -cat /outputN/part-r-00000
```

```
[groundbeef, herb&pepper, lowfatyogurt] 18
[groundbeef, herb&pepper, milk] 27
[groundbeef, herb&pepper, mineralwater] 50
[groundbeef, herb&pepper, oliveoil]     14
[groundbeef, herb&pepper, pancakes]     20
[groundbeef, herb&pepper, rice] 14
[groundbeef, herb&pepper, shrimp]       22
[groundbeef, herb&pepper, soup] 14
[groundbeef, herb&pepper, spaghetti]    48
[groundbeef, herb&pepper, tomatoes]     14
[groundbeef, herb&pepper, turkey]       12
[groundbeef, herb&pepper, wholewheatrice]       11
[groundbeef, honey, milk]       12
[groundbeef, honey, mineralwater]       21
[groundbeef, honey, pancakes]   13
[groundbeef, honey, spaghetti]  20
[groundbeef, hotdogs, mineralwater]     12
[groundbeef, hotdogs, spaghetti]        15
[groundbeef, lightcream, mineralwater]  16
[groundbeef, lightcream, spaghetti]     11
[groundbeef, lightmayo, mineralwater]   11
[groundbeef, lowfatyogurt, milk]        23
[groundbeef, lowfatyogurt, mineralwater]        36
[groundbeef, lowfatyogurt, oliveoil]    12
[groundbeef, lowfatyogurt, pancakes]    11
[groundbeef, lowfatyogurt, soup]        12
[groundbeef, lowfatyogurt, spaghetti]   30
[groundbeef, meatballs, mineralwater]   12
[groundbeef, meatballs, spaghetti]      12
[groundbeef, milk, mineralwater]        83
[groundbeef, milk, oliveoil]    37
[groundbeef, milk, pancakes]    26
[groundbeef, milk, shrimp]      21
[groundbeef, milk, soup]        30
[groundbeef, milk, spaghetti]   73
[groundbeef, milk, tomatoes]    22
[groundbeef, milk, turkey]      25
[groundbeef, milk, wholewheatpasta]     11
[groundbeef, milk, wholewheatrice]      21
[groundbeef, mineralwater, nonfatmilk]  12
[groundbeef, mineralwater, oil] 16
[groundbeef, mineralwater, oliveoil]    50
[groundbeef, mineralwater, pancakes]    56
[groundbeef, mineralwater, pepper]      18
[groundbeef, mineralwater, proteinbar]  17
[groundbeef, mineralwater, redwine]     21
[groundbeef, mineralwater, rice]        18
[groundbeef, mineralwater, salmon]      29
[groundbeef, mineralwater, shrimp]      38
[groundbeef, mineralwater, soup]        38
[groundbeef, mineralwater, spaghetti]   128
[groundbeef, mineralwater, tomatoes]    41
[groundbeef, mineralwater, tomatojuice] 13
[groundbeef, mineralwater, tomatosauce] 20
[groundbeef, mineralwater, turkey]      29
[groundbeef, mineralwater, wholewheatpasta]     18
[groundbeef, mineralwater, wholewheatrice]      29
[groundbeef, oliveoil, pancakes]        17
[groundbeef, oliveoil, pepper]  11
[groundbeef, oliveoil, salmon]  11
[groundbeef, oliveoil, shrimp]  13
[groundbeef, oliveoil, soup]    15
[groundbeef, oliveoil, spaghetti]       46
[groundbeef, oliveoil, tomatoes]        15
[groundbeef, pancakes, shrimp]  11
[groundbeef, pancakes, soup]    17
[groundbeef, pancakes, spaghetti]       48
[groundbeef, pancakes, tomatoes]        18
[groundbeef, pancakes, turkey]  12
[groundbeef, pancakes, wholewheatrice]  11
[groundbeef, parmesancheese, spaghetti] 15
[groundbeef, pepper, spaghetti] 25
[groundbeef, proteinbar, spaghetti]     12
[groundbeef, redwine, spaghetti]        19
[groundbeef, rice, spaghetti]   15
[groundbeef, salmon, spaghetti] 29
[groundbeef, shrimp, spaghetti] 45
[groundbeef, shrimp, tomatoes]  15
[groundbeef, shrimp, wholewheatrice]    11
[groundbeef, soup, spaghetti]   29
[groundbeef, soup, tomatoes]    14
[groundbeef, soup, turkey]      14
[groundbeef, spaghetti, tomatoes]       42
[groundbeef, spaghetti, tomatojuice]    11
[groundbeef, spaghetti, tomatosauce]    23
[groundbeef, spaghetti, turkey] 22
[groundbeef, spaghetti, whitewine]      11
[groundbeef, spaghetti, wholewheatpasta]        16
[groundbeef, spaghetti, wholewheatrice] 22
[gums, milk, mineralwater]      11
[ham, milk, mineralwater]       14
[ham, milk, spaghetti]  12
[ham, mineralwater, oliveoil]   15
[ham, mineralwater, pancakes]   16
[ham, mineralwater, spaghetti]  28
[ham, oliveoil, spaghetti]      12
[ham, pancakes, spaghetti]      15
[herb&pepper, lowfatyogurt, milk]       14
[herb&pepper, lowfatyogurt, mineralwater]       14
[herb&pepper, lowfatyogurt, spaghetti]  20
[herb&pepper, milk, mineralwater]       31
[herb&pepper, milk, oliveoil]   12
[herb&pepper, milk, pancakes]   14
[herb&pepper, milk, shrimp]     11
[herb&pepper, milk, spaghetti]  24
[herb&pepper, mineralwater, oliveoil]   16
[herb&pepper, mineralwater, pancakes]   27
[herb&pepper, mineralwater, rice]       11
[herb&pepper, mineralwater, salmon]     13
[herb&pepper, mineralwater, shrimp]     19
[herb&pepper, mineralwater, soup]       14
[herb&pepper, mineralwater, spaghetti]  45
[herb&pepper, mineralwater, tomatoes]   18
[herb&pepper, mineralwater, turkey]     17
[herb&pepper, mineralwater, wholewheatpasta]    12
[herb&pepper, mineralwater, wholewheatrice]     13
[herb&pepper, oliveoil, spaghetti]      20
[herb&pepper, pancakes, spaghetti]      27
[herb&pepper, shrimp, spaghetti]        16
[herb&pepper, spaghetti, tomatoes]      14
[herb&pepper, spaghetti, turkey]        17
[honey, lowfatyogurt, mineralwater]     12
[honey, milk, mineralwater]     25
[honey, milk, pancakes] 12
[honey, milk, soup]     13
[honey, milk, spaghetti]        17
[honey, milk, turkey]   12
[honey, mineralwater, oliveoil] 15
[honey, mineralwater, pancakes] 18
[honey, mineralwater, salmon]   12
[honey, mineralwater, shrimp]   13
[honey, mineralwater, soup]     12
[honey, mineralwater, spaghetti]        25
[honey, mineralwater, tomatoes] 15
[honey, mineralwater, tomatojuice]      12
[honey, mineralwater, turkey]   13
[honey, mineralwater, wholewheatrice]   11
[honey, oliveoil, spaghetti]    15
[honey, pancakes, spaghetti]    19
[honey, shrimp, spaghetti]      11
[honey, spaghetti, tomatoes]    13
[honey, spaghetti, turkey]      14
[hotdogs, milk, mineralwater]   16
[hotdogs, milk, spaghetti]      16
[hotdogs, mineralwater, oliveoil]       15
[hotdogs, mineralwater, pancakes]       12
[hotdogs, mineralwater, spaghetti]      28
[hotdogs, oliveoil, spaghetti]  14
[hotdogs, pancakes, spaghetti]  11
[lightcream, milk, mineralwater]        16
[lightcream, milk, spaghetti]   17
[lightcream, mineralwater, oliveoil]    14
[lightcream, mineralwater, soup]        11
[lightcream, mineralwater, spaghetti]   24
[lightcream, shrimp, spaghetti] 11
[lightmayo, milk, mineralwater] 11
[lightmayo, mineralwater, pancakes]     12
[lightmayo, mineralwater, spaghetti]    11
[lightmayo, pancakes, spaghetti]        11
[lowfatyogurt, milk, mineralwater]      36
[lowfatyogurt, milk, oliveoil]  17
[lowfatyogurt, milk, pancakes]  14
[lowfatyogurt, milk, shrimp]    12
[lowfatyogurt, milk, soup]      14
[lowfatyogurt, milk, spaghetti] 33
[lowfatyogurt, milk, tomatoes]  11
[lowfatyogurt, mineralwater, oliveoil]  19
[lowfatyogurt, mineralwater, pancakes]  32
[lowfatyogurt, mineralwater, salmon]    11
[lowfatyogurt, mineralwater, shrimp]    15
[lowfatyogurt, mineralwater, soup]      20
[lowfatyogurt, mineralwater, spaghetti] 42
[lowfatyogurt, mineralwater, tomatoes]  17
[lowfatyogurt, mineralwater, tomatojuice]       11
[lowfatyogurt, mineralwater, turkey]    13
[lowfatyogurt, mineralwater, wholewheatrice]    22
[lowfatyogurt, oliveoil, spaghetti]     18
[lowfatyogurt, pancakes, spaghetti]     25
[lowfatyogurt, shrimp, spaghetti]       17
[lowfatyogurt, soup, spaghetti] 13
[lowfatyogurt, spaghetti, turkey]       13
[lowfatyogurt, spaghetti, wholewheatrice]       11
[meatballs, milk, mineralwater] 18
[meatballs, milk, spaghetti]    19
[meatballs, mineralwater, oliveoil]     13
[meatballs, mineralwater, spaghetti]    17
[meatballs, mineralwater, tomatoes]     12
[meatballs, spaghetti, tomatoes]        16
[melons, mineralwater, spaghetti]       11
[milk, mineralwater, mint]      12
[milk, mineralwater, nonfatmilk]        14
[milk, mineralwater, oil]       13
[milk, mineralwater, oliveoil]  64
[milk, mineralwater, pancakes]  59
[milk, mineralwater, pepper]    16
[milk, mineralwater, redwine]   18
[milk, mineralwater, rice]      12
[milk, mineralwater, salmon]    33
[milk, mineralwater, shrimp]    59
[milk, mineralwater, soup]      64
[milk, mineralwater, spaghetti] 118
[milk, mineralwater, strongcheese]      12
[milk, mineralwater, tomatoes]  49
[milk, mineralwater, tomatojuice]       18
[milk, mineralwater, tomatosauce]       12
[milk, mineralwater, turkey]    46
[milk, mineralwater, vegetablesmix]     17
[milk, mineralwater, wholewheatpasta]   22
[milk, mineralwater, wholewheatrice]    38
[milk, mineralwater, yogurtcake]        13
[milk, oil, spaghetti]  14
[milk, oliveoil, pancakes]      23
[milk, oliveoil, pepper]        11
[milk, oliveoil, salmon]        15
[milk, oliveoil, shrimp]        24
[milk, oliveoil, soup]  27
[milk, oliveoil, spaghetti]     54
[milk, oliveoil, tomatoes]      15
[milk, oliveoil, turkey]        12
[milk, oliveoil, wholewheatpasta]       18
[milk, oliveoil, wholewheatrice]        12
[milk, pancakes, shrimp]        25
[milk, pancakes, soup]  17
[milk, pancakes, spaghetti]     37
[milk, pancakes, tomatoes]      17
[milk, pancakes, turkey]        12
[milk, pancakes, wholewheatpasta]       15
[milk, pancakes, wholewheatrice]        11
[milk, parmesancheese, spaghetti]       16
[milk, pasta, shrimp]   12
[milk, pepper, spaghetti]       14
[milk, redwine, spaghetti]      14
[milk, salmon, shrimp]  12
[milk, salmon, soup]    11
[milk, salmon, spaghetti]       26
[milk, shrimp, soup]    17
[milk, shrimp, spaghetti]       37
[milk, shrimp, tomatoes]        15
[milk, shrimp, turkey]  14
[milk, shrimp, wholewheatpasta] 11
[milk, shrimp, wholewheatrice]  16
[milk, soup, spaghetti] 34
[milk, soup, tomatoes]  23
[milk, soup, turkey]    12
[milk, soup, wholewheatrice]    15
[milk, spaghetti, tomatoes]     44
[milk, spaghetti, tomatojuice]  12
[milk, spaghetti, tomatosauce]  12
[milk, spaghetti, turkey]       36
[milk, spaghetti, wholewheatpasta]      30
[milk, spaghetti, wholewheatrice]       28
[milk, tomatoes, turkey]        17
[milk, tomatoes, wholewheatrice]        17
[milk, turkey, wholewheatrice]  19
[mineralwater, mint, spaghetti] 13
[mineralwater, nonfatmilk, spaghetti]   18
[mineralwater, oil, shrimp]     11
[mineralwater, oil, spaghetti]  18
[mineralwater, oliveoil, pancakes]      35
[mineralwater, oliveoil, salmon]        20
[mineralwater, oliveoil, shrimp]        34
[mineralwater, oliveoil, soup]  39
[mineralwater, oliveoil, spaghetti]     77
[mineralwater, oliveoil, tomatoes]      31
[mineralwater, oliveoil, tomatosauce]   12
[mineralwater, oliveoil, turkey]        14
[mineralwater, oliveoil, wholewheatpasta]       29
[mineralwater, oliveoil, wholewheatrice]        11
[mineralwater, pancakes, pepper]        14
[mineralwater, pancakes, redwine]       17
[mineralwater, pancakes, salmon]        16
[mineralwater, pancakes, shrimp]        34
[mineralwater, pancakes, soup]  32
[mineralwater, pancakes, spaghetti]     86
[mineralwater, pancakes, tomatoes]      35
[mineralwater, pancakes, tomatojuice]   18
[mineralwater, pancakes, turkey]        25
[mineralwater, pancakes, wholeweatflour]        11
[mineralwater, pancakes, wholewheatpasta]       17
[mineralwater, pancakes, wholewheatrice]        31
[mineralwater, parmesancheese, spaghetti]       14
[mineralwater, pasta, shrimp]   12
[mineralwater, pepper, spaghetti]       22
[mineralwater, proteinbar, spaghetti]   17
[mineralwater, proteinbar, tomatoes]    11
[mineralwater, redwine, soup]   14
[mineralwater, redwine, spaghetti]      30
[mineralwater, redwine, turkey] 16
[mineralwater, rice, spaghetti] 20
[mineralwater, salmon, shrimp]  19
[mineralwater, salmon, soup]    15
[mineralwater, salmon, spaghetti]       51
[mineralwater, salmon, tomatoes]        16
[mineralwater, salmon, turkey]  15
[mineralwater, salmon, wholewheatrice]  13
[mineralwater, shrimp, soup]    20
[mineralwater, shrimp, spaghetti]       64
[mineralwater, shrimp, tomatoes]        22
[mineralwater, shrimp, turkey]  18
[mineralwater, shrimp, wholewheatrice]  16
[mineralwater, soup, spaghetti] 56
[mineralwater, soup, tomatoes]  28
[mineralwater, soup, turkey]    17
[mineralwater, soup, wholewheatrice]    12
[mineralwater, spaghetti, strongcheese] 14
[mineralwater, spaghetti, tomatoes]     70
[mineralwater, spaghetti, tomatojuice]  22
[mineralwater, spaghetti, tomatosauce]  19
[mineralwater, spaghetti, turkey]       48
[mineralwater, spaghetti, vegetablesmix]        15
[mineralwater, spaghetti, whitewine]    12
[mineralwater, spaghetti, wholewheatpasta]      27
[mineralwater, spaghetti, wholewheatrice]       47
[mineralwater, spaghetti, zucchini]     12
[mineralwater, tomatoes, tomatojuice]   13
[mineralwater, tomatoes, turkey]        16
[mineralwater, tomatoes, vegetablesmix] 11
[mineralwater, tomatoes, wholewheatrice]        19
[mineralwater, turkey, wholewheatpasta] 11
[mineralwater, turkey, wholewheatrice]  19
[oliveoil, pancakes, spaghetti] 38
[oliveoil, pancakes, tomatoes]  11
[oliveoil, pancakes, turkey]    11
[oliveoil, pancakes, wholewheatpasta]   11
[oliveoil, pepper, spaghetti]   11
[oliveoil, salmon, spaghetti]   18
[oliveoil, shrimp, spaghetti]   27
[oliveoil, shrimp, turkey]      11
[oliveoil, soup, spaghetti]     22
[oliveoil, soup, tomatoes]      12
[oliveoil, spaghetti, tomatoes] 33
[oliveoil, spaghetti, tomatosauce]      12
[oliveoil, spaghetti, turkey]   20
[oliveoil, spaghetti, wholewheatpasta]  14
[oliveoil, spaghetti, wholewheatrice]   15
[pancakes, pepper, spaghetti]   16
[pancakes, redwine, spaghetti]  11
[pancakes, salmon, spaghetti]   11
[pancakes, shrimp, spaghetti]   28
[pancakes, shrimp, tomatoes]    13
[pancakes, soup, spaghetti]     22
[pancakes, spaghetti, tomatoes] 25
[pancakes, spaghetti, tomatojuice]      13
[pancakes, spaghetti, turkey]   28
[pancakes, spaghetti, wholewheatpasta]  12
[pancakes, spaghetti, wholewheatrice]   16
[pancakes, tomatoes, turkey]    12
[pancakes, turkey, wholewheatrice]      12
[redwine, spaghetti, tomatoes]  13
[salmon, shrimp, spaghetti]     17
[salmon, spaghetti, tomatoes]   14
[shrimp, soup, spaghetti]       15
[shrimp, spaghetti, tomatoes]   30
[shrimp, spaghetti, turkey]     19
[shrimp, spaghetti, wholewheatrice]     14
[soup, spaghetti, tomatoes]     17
[soup, spaghetti, turkey]       17
[soup, spaghetti, wholewheatrice]       13
[spaghetti, tomatoes, turkey]   22
[spaghetti, tomatoes, wholewheatrice]   23
[spaghetti, turkey, wholewheatrice]     16
[tomatoes, turkey, wholewheatrice]      12
```

# Other util commands

``` 
# Remove /app-logs so it's easier to find your logs
hadoop fs -rm -r /app-logs

# Leave safemode
hdfs dfsadmin -safemode leave
```